_HiStOrY_V2_
exit
create\040database\040baza
;
use\040magazyn
show\040databases;
use\040baza
show\040tables
;
create\040database\040magazyn
;
use\040magazyn;
show\040databases
;
use\040baza\040
create\040table\040konta(
id\040int\040not\040null\040auto_increment\040primary\040key,
username\040varchar(100)\040not\040null,
email\040varchar(255)\040not\040null,
haslo\040varchar(255)\040not\040null
);
create\040table\040konta(\040id\040int\040not\040null\040auto_increment\040primary\040key,\040username\040varchar(100)\040not\040null,\040email\040varchar(255)\040not\040null,\040haslo\040varchar(255)\040not\040null\040);
select\040*\040from\040konta;
delete\040from\040konta
;
delete\040from\040konta
;
select\040*\040from\040konta;
use\040baza
select\040*\040from\040konta
;
delete\040from\040konta
;
use\040baza
select\040*\040from\040konta
;
describe\040baza
;
describe\040konta;
select\040*\040from\040konta;
delete\040from\040konta
;
drop\040table\040baza
;
drop\040table\040konta
;
--\040Tworzenie\040bazy\040danych
CREATE\040DATABASE\040magazyn;
USE\040magazyn;
--\040Tabela\040użytkowników
CREATE\040TABLE\040uzytkownicy\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,
\040\040\040\040nazwa_uzytkownika\040VARCHAR(50)\040UNIQUE\040NOT\040NULL,
\040\040\040\040haslo_hash\040VARCHAR(255)\040NOT\040NULL,
\040\040\040\040rola\040ENUM('admin',\040'firma',\040'prywatnie')\040NOT\040NULL,
\040\040\040\040imie\040VARCHAR(50),
\040\040\040\040nazwisko\040VARCHAR(50),
\040\040\040\040email\040VARCHAR(100)\040UNIQUE\040NOT\040NULL,
\040\040\040\040telefon\040VARCHAR(20)\040NULL,
\040\040\040\040data_utworzenia\040TIMESTAMP\040DEFAULT\040CURRENT_TIMESTAMP
);
CREATE\040TABLE\040uzytkownicy\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040nazwa_uzytkownika\040VARCHAR(50)\040UNIQUE\040NOT\040NULL,\040\040\040\040\040haslo_hash\040VARCHAR(255)\040NOT\040NULL,\040\040\040\040\040rola\040ENUM('admin',\040'firma',\040'prywatnie')\040NOT\040NULL,\040\040\040\040\040imie\040VARCHAR(50),\040\040\040\040\040nazwisko\040VARCHAR(50),\040\040\040\040\040email\040VARCHAR(100)\040UNIQUE\040NOT\040NULL,\040\040\040\040\040telefon\040VARCHAR(20)\040NULL,\040\040\040\040\040data_utworzenia\040TIMESTAMP\040DEFAULT\040CURRENT_TIMESTAMP\040);
--\040Tabela\040adresów\040użytkowników
CREATE\040TABLE\040adresy_uzytkownikow\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,
\040\040\040\040uzytkownik_id\040INT\040NOT\040NULL,
\040\040\040\040adres\040TEXT\040NOT\040NULL,
\040\040\040\040FOREIGN\040KEY\040(uzytkownik_id)\040REFERENCES\040uzytkownicy(id)\040ON\040DELETE\040CASCADE
);
CREATE\040TABLE\040adresy_uzytkownikow\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040uzytkownik_id\040INT\040NOT\040NULL,\040\040\040\040\040adres\040TEXT\040NOT\040NULL,\040\040\040\040\040FOREIGN\040KEY\040(uzytkownik_id)\040REFERENCES\040uzytkownicy(id)\040ON\040DELETE\040CASCADE\040);
--\040Tabela\040magazynów
CREATE\040TABLE\040magazyny\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,
\040\040\040\040nazwa\040VARCHAR(100)\040NOT\040NULL,
\040\040\040\040lokalizacja\040VARCHAR(255)\040NOT\040NULL,
\040\040\040\040pojemnosc\040INT\040NOT\040NULL,
\040\040\040\040data_utworzenia\040TIMESTAMP\040DEFAULT\040CURRENT_TIMESTAMP
);
CREATE\040TABLE\040magazyny\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040nazwa\040VARCHAR(100)\040NOT\040NULL,\040\040\040\040\040lokalizacja\040VARCHAR(255)\040NOT\040NULL,\040\040\040\040\040pojemnosc\040INT\040NOT\040NULL,\040\040\040\040\040data_utworzenia\040TIMESTAMP\040DEFAULT\040CURRENT_TIMESTAMP\040);
--\040Uprawnienia\040użytkowników\040do\040magazynów
CREATE\040TABLE\040uprawnienia_magazynowe\040(
\040\040\040\040uzytkownik_id\040INT,
\040\040\040\040magazyn_id\040INT,
\040\040\040\040uprawnienie\040ENUM('odczyt',\040'zapis',\040'admin')\040NOT\040NULL,
\040\040\040\040PRIMARY\040KEY\040(uzytkownik_id,\040magazyn_id),
\040\040\040\040FOREIGN\040KEY\040(uzytkownik_id)\040REFERENCES\040uzytkownicy(id)\040ON\040DELETE\040CASCADE,
\040\040\040\040FOREIGN\040KEY\040(magazyn_id)\040REFERENCES\040magazyny(id)\040ON\040DELETE\040CASCADE
);
CREATE\040TABLE\040uprawnienia_magazynowe\040(\040\040\040\040\040uzytkownik_id\040INT,\040\040\040\040\040magazyn_id\040INT,\040\040\040\040\040uprawnienie\040ENUM('odczyt',\040'zapis',\040'admin')\040NOT\040NULL,\040\040\040\040\040PRIMARY\040KEY\040(uzytkownik_id,\040magazyn_id),\040\040\040\040\040FOREIGN\040KEY\040(uzytkownik_id)\040REFERENCES\040uzytkownicy(id)\040ON\040DELETE\040CASCADE,\040\040\040\040\040FOREIGN\040KEY\040(magazyn_id)\040REFERENCES\040magazyny(id)\040ON\040DELETE\040CASCADE\040);
--\040Historia\040zmian\040w\040magazynach
CREATE\040TABLE\040historia_magazynow\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,
\040\040\040\040magazyn_id\040INT,
\040\040\040\040uzytkownik_id\040INT,
\040\040\040\040akcja\040VARCHAR(255)\040NOT\040NULL,
\040\040\040\040data_czas\040TIMESTAMP\040DEFAULT\040CURRENT_TIMESTAMP,
\040\040\040\040FOREIGN\040KEY\040(magazyn_id)\040REFERENCES\040magazyny(id)\040ON\040DELETE\040CASCADE,
\040\040\040\040FOREIGN\040KEY\040(uzytkownik_id)\040REFERENCES\040uzytkownicy(id)\040ON\040DELETE\040SET\040NULL
);
CREATE\040TABLE\040historia_magazynow\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040magazyn_id\040INT,\040\040\040\040\040uzytkownik_id\040INT,\040\040\040\040\040akcja\040VARCHAR(255)\040NOT\040NULL,\040\040\040\040\040data_czas\040TIMESTAMP\040DEFAULT\040CURRENT_TIMESTAMP,\040\040\040\040\040FOREIGN\040KEY\040(magazyn_id)\040REFERENCES\040magazyny(id)\040ON\040DELETE\040CASCADE,\040\040\040\040\040FOREIGN\040KEY\040(uzytkownik_id)\040REFERENCES\040uzytkownicy(id)\040ON\040DELETE\040SET\040NULL\040);
--\040Logowanie\040akcji\040użytkowników
CREATE\040TABLE\040logi_uzytkownikow\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,
\040\040\040\040uzytkownik_id\040INT,
\040\040\040\040akcja\040VARCHAR(255)\040NOT\040NULL,
\040\040\040\040data_czas\040TIMESTAMP\040DEFAULT\040CURRENT_TIMESTAMP,
\040\040\040\040FOREIGN\040KEY\040(uzytkownik_id)\040REFERENCES\040uzytkownicy(id)\040ON\040DELETE\040SET\040NULL
);
CREATE\040TABLE\040logi_uzytkownikow\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040uzytkownik_id\040INT,\040\040\040\040\040akcja\040VARCHAR(255)\040NOT\040NULL,\040\040\040\040\040data_czas\040TIMESTAMP\040DEFAULT\040CURRENT_TIMESTAMP,\040\040\040\040\040FOREIGN\040KEY\040(uzytkownik_id)\040REFERENCES\040uzytkownicy(id)\040ON\040DELETE\040SET\040NULL\040);
show\040tables;
describe\040uzytkownicy;
exit
use\040magazyn
select\040*\040from\040uzytkownicy;
show\040tables;
describe\040uzytkownicy;
select\040*\040from\040uzytkownicy;
drop\040database\040magazyn;
SET\040SQL_MODE\040=\040"NO_AUTO_VALUE_ON_ZERO";
START\040TRANSACTION;
SET\040time_zone\040=\040"+00:00";
/*!40101\040SET\040@OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT\040*/;
/*!40101\040SET\040@OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS\040*/;
/*!40101\040SET\040@OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION\040*/;
/*!40101\040SET\040NAMES\040utf8mb4\040*/;
--
--\040Database:\040`magazyn`
--
--\040--------------------------------------------------------
--
--\040Struktura\040tabeli\040dla\040tabeli\040`adresy_uzytkownikow`
--
CREATE\040TABLE\040`adresy_uzytkownikow`\040(
\040\040`id`\040int(11)\040NOT\040NULL,
\040\040`uzytkownik_id`\040int(11)\040NOT\040NULL,
\040\040`adres`\040text\040NOT\040NULL
)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
CREATE\040TABLE\040`adresy_uzytkownikow`\040(\040\040\040`id`\040int(11)\040NOT\040NULL,\040\040\040`uzytkownik_id`\040int(11)\040NOT\040NULL,\040\040\040`adres`\040text\040NOT\040NULL\040)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
--\040--------------------------------------------------------
--
--\040Struktura\040tabeli\040dla\040tabeli\040`historia_magazynow`
--
CREATE\040TABLE\040`historia_magazynow`\040(
\040\040`id`\040int(11)\040NOT\040NULL,
\040\040`magazyn_id`\040int(11)\040DEFAULT\040NULL,
\040\040`uzytkownik_id`\040int(11)\040DEFAULT\040NULL,
\040\040`akcja`\040varchar(255)\040NOT\040NULL,
\040\040`data_czas`\040timestamp\040NOT\040NULL\040DEFAULT\040current_timestamp()
)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
CREATE\040TABLE\040`historia_magazynow`\040(\040\040\040`id`\040int(11)\040NOT\040NULL,\040\040\040`magazyn_id`\040int(11)\040DEFAULT\040NULL,\040\040\040`uzytkownik_id`\040int(11)\040DEFAULT\040NULL,\040\040\040`akcja`\040varchar(255)\040NOT\040NULL,\040\040\040`data_czas`\040timestamp\040NOT\040NULL\040DEFAULT\040current_timestamp()\040)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
--\040--------------------------------------------------------
--
--\040Struktura\040tabeli\040dla\040tabeli\040`logi_uzytkownikow`
--
CREATE\040TABLE\040`logi_uzytkownikow`\040(
\040\040`id`\040int(11)\040NOT\040NULL,
\040\040`uzytkownik_id`\040int(11)\040DEFAULT\040NULL,
\040\040`akcja`\040varchar(255)\040NOT\040NULL,
\040\040`data_czas`\040timestamp\040NOT\040NULL\040DEFAULT\040current_timestamp()
)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
CREATE\040TABLE\040`logi_uzytkownikow`\040(\040\040\040`id`\040int(11)\040NOT\040NULL,\040\040\040`uzytkownik_id`\040int(11)\040DEFAULT\040NULL,\040\040\040`akcja`\040varchar(255)\040NOT\040NULL,\040\040\040`data_czas`\040timestamp\040NOT\040NULL\040DEFAULT\040current_timestamp()\040)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
--\040--------------------------------------------------------
--
--\040Struktura\040tabeli\040dla\040tabeli\040`magazyny`
--
CREATE\040TABLE\040`magazyny`\040(
\040\040`id`\040int(11)\040NOT\040NULL,
\040\040`nazwa`\040varchar(100)\040NOT\040NULL,
\040\040`lokalizacja`\040varchar(255)\040NOT\040NULL,
\040\040`pojemnosc`\040int(11)\040NOT\040NULL,
\040\040`data_utworzenia`\040timestamp\040NOT\040NULL\040DEFAULT\040current_timestamp()
)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
CREATE\040TABLE\040`magazyny`\040(\040\040\040`id`\040int(11)\040NOT\040NULL,\040\040\040`nazwa`\040varchar(100)\040NOT\040NULL,\040\040\040`lokalizacja`\040varchar(255)\040NOT\040NULL,\040\040\040`pojemnosc`\040int(11)\040NOT\040NULL,\040\040\040`data_utworzenia`\040timestamp\040NOT\040NULL\040DEFAULT\040current_timestamp()\040)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
--
--\040Dumping\040data\040for\040table\040`magazyny`
--
INSERT\040INTO\040`magazyny`\040(`id`,\040`nazwa`,\040`lokalizacja`,\040`pojemnosc`,\040`data_utworzenia`)\040VALUES
(1,\040'Magazyn\040Warszawski',\040'Warszawa,\040ul.\040Główna\0401',\0405000,\040'2025-02-24\04016:56:12'),
(2,\040'Magazyn\040Krakowski',\040'Kraków,\040ul.\040Południowa\04015',\0403000,\040'2025-02-24\04016:56:12'),
(3,\040'Magazyn\040Gdański',\040'Gdańsk,\040ul.\040Morska\0408',\0404000,\040'2025-02-24\04016:56:12'),
(4,\040'Magazyn\040Centralny',\040'Lublin,\040ul.\040Wschodnia\04022',\0402500,\040'2025-02-24\04016:56:12'),
(5,\040'Magazyn\040Poznański',\040'Poznań,\040ul.\040Zachodnia\0405',\0403500,\040'2025-02-24\04016:56:12'),
(6,\040'Magazyn\040Łódzki',\040'Łódź,\040ul.\040Mała\0403',\0401500,\040'2025-02-24\04016:56:12'),
(7,\040'Magazyn\040Wrocławski',\040'Wrocław,\040ul.\040Duża\04012',\0406000,\040'2025-02-24\04016:56:12'),
(8,\040'Magazyn\040Przemysłowy',\040'Katowice,\040ul.\040Fabryczna\0407',\0407000,\040'2025-02-24\04016:56:12'),
(9,\040'Magazyn\040Spożywczy',\040'Gdynia,\040ul.\040Portowa\04010',\0404500,\040'2025-02-24\04016:56:12'),
(10,\040'Magazyn\040Techniczny',\040'Rzeszów,\040ul.\040Techniczna\04018',\0403200,\040'2025-02-24\04016:56:12');
INSERT\040INTO\040`magazyny`\040(`id`,\040`nazwa`,\040`lokalizacja`,\040`pojemnosc`,\040`data_utworzenia`)\040VALUES\040(1,\040'Magazyn\040Warszawski',\040'Warszawa,\040ul.\040Główna\0401',\0405000,\040'2025-02-24\04016:56:12'),\040(2,\040'Magazyn\040Krakowski',\040'Kraków,\040ul.\040Południowa\04015',\0403000,\040'2025-02-24\04016:56:12'),\040(3,\040'Magazyn\040Gdański',\040'Gdańsk,\040ul.\040Morska\0408',\0404000,\040'2025-02-24\04016:56:12'),\040(4,\040'Magazyn\040Centralny',\040'Lublin,\040ul.\040Wschodnia\04022',\0402500,\040'2025-02-24\04016:56:12'),\040(5,\040'Magazyn\040Poznański',\040'Poznań,\040ul.\040Zachodnia\0405',\0403500,\040'2025-02-24\04016:56:12'),\040(6,\040'Magazyn\040Łódzki',\040'Łódź,\040ul.\040Mała\0403',\0401500,\040'2025-02-24\04016:56:12'),\040(7,\040'Magazyn\040Wrocławski',\040'Wrocław,\040ul.\040Duża\04012',\0406000,\040'2025-02-24\04016:56:12'),\040(8,\040'Magazyn\040Przemysłowy',\040'Katowice,\040ul.\040Fabryczna\0407',\0407000,\040'2025-02-24\04016:56:12'),\040(9,\040'Magazyn\040Spożywczy',\040'Gdynia,\040ul.\040Portowa\04010',\0404500,\040'2025-02-24\04016:56:12'),\040(10,\040'Magazyn\040Techniczny',\040'Rzeszów,\040ul.\040Techniczna\04018',\0403200,\040'2025-02-24\04016:56:12');
--\040--------------------------------------------------------
--
--\040Struktura\040tabeli\040dla\040tabeli\040`uprawnienia_magazynowe`
--
CREATE\040TABLE\040`uprawnienia_magazynowe`\040(
\040\040`uzytkownik_id`\040int(11)\040NOT\040NULL,
\040\040`magazyn_id`\040int(11)\040NOT\040NULL,
\040\040`uprawnienie`\040enum('odczyt','zapis','admin')\040NOT\040NULL
)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
CREATE\040TABLE\040`uprawnienia_magazynowe`\040(\040\040\040`uzytkownik_id`\040int(11)\040NOT\040NULL,\040\040\040`magazyn_id`\040int(11)\040NOT\040NULL,\040\040\040`uprawnienie`\040enum('odczyt','zapis','admin')\040NOT\040NULL\040)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
--\040--------------------------------------------------------
--
--\040Struktura\040tabeli\040dla\040tabeli\040`uzytkownicy`
--
CREATE\040TABLE\040`uzytkownicy`\040(
\040\040`id`\040int(11)\040NOT\040NULL,
\040\040`nazwa_uzytkownika`\040varchar(50)\040NOT\040NULL,
\040\040`haslo_hash`\040varchar(255)\040NOT\040NULL,
\040\040`rola`\040enum('admin','kierownik','uzytkownik')\040NOT\040NULL,
\040\040`imie`\040varchar(50)\040DEFAULT\040NULL,
\040\040`nazwisko`\040varchar(50)\040DEFAULT\040NULL,
\040\040`email`\040varchar(100)\040NOT\040NULL,
\040\040`telefon`\040varchar(20)\040DEFAULT\040NULL,
\040\040`data_utworzenia`\040timestamp\040NOT\040NULL\040DEFAULT\040current_timestamp()
)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
CREATE\040TABLE\040`uzytkownicy`\040(\040\040\040`id`\040int(11)\040NOT\040NULL,\040\040\040`nazwa_uzytkownika`\040varchar(50)\040NOT\040NULL,\040\040\040`haslo_hash`\040varchar(255)\040NOT\040NULL,\040\040\040`rola`\040enum('admin','kierownik','uzytkownik')\040NOT\040NULL,\040\040\040`imie`\040varchar(50)\040DEFAULT\040NULL,\040\040\040`nazwisko`\040varchar(50)\040DEFAULT\040NULL,\040\040\040`email`\040varchar(100)\040NOT\040NULL,\040\040\040`telefon`\040varchar(20)\040DEFAULT\040NULL,\040\040\040`data_utworzenia`\040timestamp\040NOT\040NULL\040DEFAULT\040current_timestamp()\040)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
--
--\040Indeksy\040dla\040zrzutów\040tabel
--
--\040Indeksy\040dla\040tabeli\040`adresy_uzytkownikow`
--
ALTER\040TABLE\040`adresy_uzytkownikow`
\040\040ADD\040PRIMARY\040KEY\040(`id`),
\040\040ADD\040KEY\040`uzytkownik_id`\040(`uzytkownik_id`);
ALTER\040TABLE\040`adresy_uzytkownikow`\040\040\040ADD\040PRIMARY\040KEY\040(`id`),\040\040\040ADD\040KEY\040`uzytkownik_id`\040(`uzytkownik_id`);
--
--\040Indeksy\040dla\040tabeli\040`historia_magazynow`
--
ALTER\040TABLE\040`historia_magazynow`
\040\040ADD\040PRIMARY\040KEY\040(`id`),
\040\040ADD\040KEY\040`magazyn_id`\040(`magazyn_id`),
\040\040ADD\040KEY\040`uzytkownik_id`\040(`uzytkownik_id`);
ALTER\040TABLE\040`historia_magazynow`\040\040\040ADD\040PRIMARY\040KEY\040(`id`),\040\040\040ADD\040KEY\040`magazyn_id`\040(`magazyn_id`),\040\040\040ADD\040KEY\040`uzytkownik_id`\040(`uzytkownik_id`);
--
--\040Indeksy\040dla\040tabeli\040`logi_uzytkownikow`
--
ALTER\040TABLE\040`logi_uzytkownikow`
\040\040ADD\040PRIMARY\040KEY\040(`id`),
\040\040ADD\040KEY\040`uzytkownik_id`\040(`uzytkownik_id`);
ALTER\040TABLE\040`logi_uzytkownikow`\040\040\040ADD\040PRIMARY\040KEY\040(`id`),\040\040\040ADD\040KEY\040`uzytkownik_id`\040(`uzytkownik_id`);
--
--\040Indeksy\040dla\040tabeli\040`magazyny`
--
ALTER\040TABLE\040`magazyny`
\040\040ADD\040PRIMARY\040KEY\040(`id`);
ALTER\040TABLE\040`magazyny`\040\040\040ADD\040PRIMARY\040KEY\040(`id`);
--
--\040Indeksy\040dla\040tabeli\040`uprawnienia_magazynowe`
--
ALTER\040TABLE\040`uprawnienia_magazynowe`
\040\040ADD\040PRIMARY\040KEY\040(`uzytkownik_id`,`magazyn_id`),
\040\040ADD\040KEY\040`magazyn_id`\040(`magazyn_id`);
ALTER\040TABLE\040`uprawnienia_magazynowe`\040\040\040ADD\040PRIMARY\040KEY\040(`uzytkownik_id`,`magazyn_id`),\040\040\040ADD\040KEY\040`magazyn_id`\040(`magazyn_id`);
--
--\040Indeksy\040dla\040tabeli\040`uzytkownicy`
--
ALTER\040TABLE\040`uzytkownicy`
\040\040ADD\040PRIMARY\040KEY\040(`id`),
\040\040ADD\040UNIQUE\040KEY\040`nazwa_uzytkownika`\040(`nazwa_uzytkownika`),
\040\040ADD\040UNIQUE\040KEY\040`email`\040(`email`);
ALTER\040TABLE\040`uzytkownicy`\040\040\040ADD\040PRIMARY\040KEY\040(`id`),\040\040\040ADD\040UNIQUE\040KEY\040`nazwa_uzytkownika`\040(`nazwa_uzytkownika`),\040\040\040ADD\040UNIQUE\040KEY\040`email`\040(`email`);
--
--\040AUTO_INCREMENT\040for\040dumped\040tables
--
--\040AUTO_INCREMENT\040for\040table\040`adresy_uzytkownikow`
--
ALTER\040TABLE\040`adresy_uzytkownikow`
\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT;
ALTER\040TABLE\040`adresy_uzytkownikow`\040\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT;
--
--\040AUTO_INCREMENT\040for\040table\040`historia_magazynow`
--
ALTER\040TABLE\040`historia_magazynow`
\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT;
ALTER\040TABLE\040`historia_magazynow`\040\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT;
--
--\040AUTO_INCREMENT\040for\040table\040`logi_uzytkownikow`
--
ALTER\040TABLE\040`logi_uzytkownikow`
\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT;
ALTER\040TABLE\040`logi_uzytkownikow`\040\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT;
--
--\040AUTO_INCREMENT\040for\040table\040`magazyny`
--
ALTER\040TABLE\040`magazyny`
\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT,\040AUTO_INCREMENT=11;
ALTER\040TABLE\040`magazyny`\040\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT,\040AUTO_INCREMENT=11;
--
--\040AUTO_INCREMENT\040for\040table\040`uzytkownicy`
--
ALTER\040TABLE\040`uzytkownicy`
\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT,\040AUTO_INCREMENT=4;
ALTER\040TABLE\040`uzytkownicy`\040\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT,\040AUTO_INCREMENT=4;
--
--\040Constraints\040for\040dumped\040tables
--
--\040Constraints\040for\040table\040`adresy_uzytkownikow`
--
ALTER\040TABLE\040`adresy_uzytkownikow`
\040\040ADD\040CONSTRAINT\040`adresy_uzytkownikow_ibfk_1`\040FOREIGN\040KEY\040(`uzytkownik_id`)\040REFERENCES\040`uzytkownicy`\040(`id`)\040ON\040DELETE\040CASCADE;
ALTER\040TABLE\040`adresy_uzytkownikow`\040\040\040ADD\040CONSTRAINT\040`adresy_uzytkownikow_ibfk_1`\040FOREIGN\040KEY\040(`uzytkownik_id`)\040REFERENCES\040`uzytkownicy`\040(`id`)\040ON\040DELETE\040CASCADE;
--
--\040Constraints\040for\040table\040`historia_magazynow`
--
ALTER\040TABLE\040`historia_magazynow`
\040\040ADD\040CONSTRAINT\040`historia_magazynow_ibfk_1`\040FOREIGN\040KEY\040(`magazyn_id`)\040REFERENCES\040`magazyny`\040(`id`)\040ON\040DELETE\040CASCADE,
\040\040ADD\040CONSTRAINT\040`historia_magazynow_ibfk_2`\040FOREIGN\040KEY\040(`uzytkownik_id`)\040REFERENCES\040`uzytkownicy`\040(`id`)\040ON\040DELETE\040SET\040NULL;
ALTER\040TABLE\040`historia_magazynow`\040\040\040ADD\040CONSTRAINT\040`historia_magazynow_ibfk_1`\040FOREIGN\040KEY\040(`magazyn_id`)\040REFERENCES\040`magazyny`\040(`id`)\040ON\040DELETE\040CASCADE,\040\040\040ADD\040CONSTRAINT\040`historia_magazynow_ibfk_2`\040FOREIGN\040KEY\040(`uzytkownik_id`)\040REFERENCES\040`uzytkownicy`\040(`id`)\040ON\040DELETE\040SET\040NULL;
--
--\040Constraints\040for\040table\040`logi_uzytkownikow`
--
ALTER\040TABLE\040`logi_uzytkownikow`
\040\040ADD\040CONSTRAINT\040`logi_uzytkownikow_ibfk_1`\040FOREIGN\040KEY\040(`uzytkownik_id`)\040REFERENCES\040`uzytkownicy`\040(`id`)\040ON\040DELETE\040SET\040NULL;
ALTER\040TABLE\040`logi_uzytkownikow`\040\040\040ADD\040CONSTRAINT\040`logi_uzytkownikow_ibfk_1`\040FOREIGN\040KEY\040(`uzytkownik_id`)\040REFERENCES\040`uzytkownicy`\040(`id`)\040ON\040DELETE\040SET\040NULL;
--
--\040Constraints\040for\040table\040`uprawnienia_magazynowe`
--
ALTER\040TABLE\040`uprawnienia_magazynowe`
\040\040ADD\040CONSTRAINT\040`uprawnienia_magazynowe_ibfk_1`\040FOREIGN\040KEY\040(`uzytkownik_id`)\040REFERENCES\040`uzytkownicy`\040(`id`)\040ON\040DELETE\040CASCADE,
\040\040ADD\040CONSTRAINT\040`uprawnienia_magazynowe_ibfk_2`\040FOREIGN\040KEY\040(`magazyn_id`)\040REFERENCES\040`magazyny`\040(`id`)\040ON\040DELETE\040CASCADE;
ALTER\040TABLE\040`uprawnienia_magazynowe`\040\040\040ADD\040CONSTRAINT\040`uprawnienia_magazynowe_ibfk_1`\040FOREIGN\040KEY\040(`uzytkownik_id`)\040REFERENCES\040`uzytkownicy`\040(`id`)\040ON\040DELETE\040CASCADE,\040\040\040ADD\040CONSTRAINT\040`uprawnienia_magazynowe_ibfk_2`\040FOREIGN\040KEY\040(`magazyn_id`)\040REFERENCES\040`magazyny`\040(`id`)\040ON\040DELETE\040CASCADE;
COMMIT;
/*!40101\040SET\040CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT\040*/;
/*!40101\040SET\040CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS\040*/;
/*!40101\040SET\040COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION\040*/;
create\040database\040magazyn
;
use\040magazyn
SET\040SQL_MODE\040=\040"NO_AUTO_VALUE_ON_ZERO";
START\040TRANSACTION;
SET\040time_zone\040=\040"+00:00";
/*!40101\040SET\040@OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT\040*/;
/*!40101\040SET\040@OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS\040*/;
/*!40101\040SET\040@OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION\040*/;
/*!40101\040SET\040NAMES\040utf8mb4\040*/;
--
--\040Database:\040`magazyn`
--
--\040--------------------------------------------------------
--
--\040Struktura\040tabeli\040dla\040tabeli\040`adresy_uzytkownikow`
--
CREATE\040TABLE\040`adresy_uzytkownikow`\040(
\040\040`id`\040int(11)\040NOT\040NULL,
\040\040`uzytkownik_id`\040int(11)\040NOT\040NULL,
\040\040`adres`\040text\040NOT\040NULL
)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
CREATE\040TABLE\040`adresy_uzytkownikow`\040(\040\040\040`id`\040int(11)\040NOT\040NULL,\040\040\040`uzytkownik_id`\040int(11)\040NOT\040NULL,\040\040\040`adres`\040text\040NOT\040NULL\040)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
--\040--------------------------------------------------------
--
--\040Struktura\040tabeli\040dla\040tabeli\040`historia_magazynow`
--
CREATE\040TABLE\040`historia_magazynow`\040(
\040\040`id`\040int(11)\040NOT\040NULL,
\040\040`magazyn_id`\040int(11)\040DEFAULT\040NULL,
\040\040`uzytkownik_id`\040int(11)\040DEFAULT\040NULL,
\040\040`akcja`\040varchar(255)\040NOT\040NULL,
\040\040`data_czas`\040timestamp\040NOT\040NULL\040DEFAULT\040current_timestamp()
)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
CREATE\040TABLE\040`historia_magazynow`\040(\040\040\040`id`\040int(11)\040NOT\040NULL,\040\040\040`magazyn_id`\040int(11)\040DEFAULT\040NULL,\040\040\040`uzytkownik_id`\040int(11)\040DEFAULT\040NULL,\040\040\040`akcja`\040varchar(255)\040NOT\040NULL,\040\040\040`data_czas`\040timestamp\040NOT\040NULL\040DEFAULT\040current_timestamp()\040)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
--\040--------------------------------------------------------
--
--\040Struktura\040tabeli\040dla\040tabeli\040`logi_uzytkownikow`
--
CREATE\040TABLE\040`logi_uzytkownikow`\040(
\040\040`id`\040int(11)\040NOT\040NULL,
\040\040`uzytkownik_id`\040int(11)\040DEFAULT\040NULL,
\040\040`akcja`\040varchar(255)\040NOT\040NULL,
\040\040`data_czas`\040timestamp\040NOT\040NULL\040DEFAULT\040current_timestamp()
)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
CREATE\040TABLE\040`logi_uzytkownikow`\040(\040\040\040`id`\040int(11)\040NOT\040NULL,\040\040\040`uzytkownik_id`\040int(11)\040DEFAULT\040NULL,\040\040\040`akcja`\040varchar(255)\040NOT\040NULL,\040\040\040`data_czas`\040timestamp\040NOT\040NULL\040DEFAULT\040current_timestamp()\040)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
--\040--------------------------------------------------------
--
--\040Struktura\040tabeli\040dla\040tabeli\040`magazyny`
--
CREATE\040TABLE\040`magazyny`\040(
\040\040`id`\040int(11)\040NOT\040NULL,
\040\040`nazwa`\040varchar(100)\040NOT\040NULL,
\040\040`lokalizacja`\040varchar(255)\040NOT\040NULL,
\040\040`pojemnosc`\040int(11)\040NOT\040NULL,
\040\040`data_utworzenia`\040timestamp\040NOT\040NULL\040DEFAULT\040current_timestamp()
)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
CREATE\040TABLE\040`magazyny`\040(\040\040\040`id`\040int(11)\040NOT\040NULL,\040\040\040`nazwa`\040varchar(100)\040NOT\040NULL,\040\040\040`lokalizacja`\040varchar(255)\040NOT\040NULL,\040\040\040`pojemnosc`\040int(11)\040NOT\040NULL,\040\040\040`data_utworzenia`\040timestamp\040NOT\040NULL\040DEFAULT\040current_timestamp()\040)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
--
--\040Dumping\040data\040for\040table\040`magazyny`
--
INSERT\040INTO\040`magazyny`\040(`id`,\040`nazwa`,\040`lokalizacja`,\040`pojemnosc`,\040`data_utworzenia`)\040VALUES
(1,\040'Magazyn\040Warszawski',\040'Warszawa,\040ul.\040Główna\0401',\0405000,\040'2025-02-24\04016:56:12'),
(2,\040'Magazyn\040Krakowski',\040'Kraków,\040ul.\040Południowa\04015',\0403000,\040'2025-02-24\04016:56:12'),
(3,\040'Magazyn\040Gdański',\040'Gdańsk,\040ul.\040Morska\0408',\0404000,\040'2025-02-24\04016:56:12'),
(4,\040'Magazyn\040Centralny',\040'Lublin,\040ul.\040Wschodnia\04022',\0402500,\040'2025-02-24\04016:56:12'),
(5,\040'Magazyn\040Poznański',\040'Poznań,\040ul.\040Zachodnia\0405',\0403500,\040'2025-02-24\04016:56:12'),
(6,\040'Magazyn\040Łódzki',\040'Łódź,\040ul.\040Mała\0403',\0401500,\040'2025-02-24\04016:56:12'),
(7,\040'Magazyn\040Wrocławski',\040'Wrocław,\040ul.\040Duża\04012',\0406000,\040'2025-02-24\04016:56:12'),
(8,\040'Magazyn\040Przemysłowy',\040'Katowice,\040ul.\040Fabryczna\0407',\0407000,\040'2025-02-24\04016:56:12'),
(9,\040'Magazyn\040Spożywczy',\040'Gdynia,\040ul.\040Portowa\04010',\0404500,\040'2025-02-24\04016:56:12'),
(10,\040'Magazyn\040Techniczny',\040'Rzeszów,\040ul.\040Techniczna\04018',\0403200,\040'2025-02-24\04016:56:12');
INSERT\040INTO\040`magazyny`\040(`id`,\040`nazwa`,\040`lokalizacja`,\040`pojemnosc`,\040`data_utworzenia`)\040VALUES\040(1,\040'Magazyn\040Warszawski',\040'Warszawa,\040ul.\040Główna\0401',\0405000,\040'2025-02-24\04016:56:12'),\040(2,\040'Magazyn\040Krakowski',\040'Kraków,\040ul.\040Południowa\04015',\0403000,\040'2025-02-24\04016:56:12'),\040(3,\040'Magazyn\040Gdański',\040'Gdańsk,\040ul.\040Morska\0408',\0404000,\040'2025-02-24\04016:56:12'),\040(4,\040'Magazyn\040Centralny',\040'Lublin,\040ul.\040Wschodnia\04022',\0402500,\040'2025-02-24\04016:56:12'),\040(5,\040'Magazyn\040Poznański',\040'Poznań,\040ul.\040Zachodnia\0405',\0403500,\040'2025-02-24\04016:56:12'),\040(6,\040'Magazyn\040Łódzki',\040'Łódź,\040ul.\040Mała\0403',\0401500,\040'2025-02-24\04016:56:12'),\040(7,\040'Magazyn\040Wrocławski',\040'Wrocław,\040ul.\040Duża\04012',\0406000,\040'2025-02-24\04016:56:12'),\040(8,\040'Magazyn\040Przemysłowy',\040'Katowice,\040ul.\040Fabryczna\0407',\0407000,\040'2025-02-24\04016:56:12'),\040(9,\040'Magazyn\040Spożywczy',\040'Gdynia,\040ul.\040Portowa\04010',\0404500,\040'2025-02-24\04016:56:12'),\040(10,\040'Magazyn\040Techniczny',\040'Rzeszów,\040ul.\040Techniczna\04018',\0403200,\040'2025-02-24\04016:56:12');
--\040--------------------------------------------------------
--
--\040Struktura\040tabeli\040dla\040tabeli\040`uprawnienia_magazynowe`
--
CREATE\040TABLE\040`uprawnienia_magazynowe`\040(
\040\040`uzytkownik_id`\040int(11)\040NOT\040NULL,
\040\040`magazyn_id`\040int(11)\040NOT\040NULL,
\040\040`uprawnienie`\040enum('odczyt','zapis','admin')\040NOT\040NULL
)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
CREATE\040TABLE\040`uprawnienia_magazynowe`\040(\040\040\040`uzytkownik_id`\040int(11)\040NOT\040NULL,\040\040\040`magazyn_id`\040int(11)\040NOT\040NULL,\040\040\040`uprawnienie`\040enum('odczyt','zapis','admin')\040NOT\040NULL\040)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
--\040--------------------------------------------------------
--
--\040Struktura\040tabeli\040dla\040tabeli\040`uzytkownicy`
--
CREATE\040TABLE\040`uzytkownicy`\040(
\040\040`id`\040int(11)\040NOT\040NULL,
\040\040`nazwa_uzytkownika`\040varchar(50)\040NOT\040NULL,
\040\040`haslo_hash`\040varchar(255)\040NOT\040NULL,
\040\040`rola`\040enum('admin','kierownik','uzytkownik')\040NOT\040NULL,
\040\040`imie`\040varchar(50)\040DEFAULT\040NULL,
\040\040`nazwisko`\040varchar(50)\040DEFAULT\040NULL,
\040\040`email`\040varchar(100)\040NOT\040NULL,
\040\040`telefon`\040varchar(20)\040DEFAULT\040NULL,
\040\040`data_utworzenia`\040timestamp\040NOT\040NULL\040DEFAULT\040current_timestamp()
)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
CREATE\040TABLE\040`uzytkownicy`\040(\040\040\040`id`\040int(11)\040NOT\040NULL,\040\040\040`nazwa_uzytkownika`\040varchar(50)\040NOT\040NULL,\040\040\040`haslo_hash`\040varchar(255)\040NOT\040NULL,\040\040\040`rola`\040enum('admin','kierownik','uzytkownik')\040NOT\040NULL,\040\040\040`imie`\040varchar(50)\040DEFAULT\040NULL,\040\040\040`nazwisko`\040varchar(50)\040DEFAULT\040NULL,\040\040\040`email`\040varchar(100)\040NOT\040NULL,\040\040\040`telefon`\040varchar(20)\040DEFAULT\040NULL,\040\040\040`data_utworzenia`\040timestamp\040NOT\040NULL\040DEFAULT\040current_timestamp()\040)\040ENGINE=InnoDB\040DEFAULT\040CHARSET=utf8mb4\040COLLATE=utf8mb4_general_ci;
--
--\040Indeksy\040dla\040zrzutów\040tabel
--
--\040Indeksy\040dla\040tabeli\040`adresy_uzytkownikow`
--
ALTER\040TABLE\040`adresy_uzytkownikow`
\040\040ADD\040PRIMARY\040KEY\040(`id`),
\040\040ADD\040KEY\040`uzytkownik_id`\040(`uzytkownik_id`);
ALTER\040TABLE\040`adresy_uzytkownikow`\040\040\040ADD\040PRIMARY\040KEY\040(`id`),\040\040\040ADD\040KEY\040`uzytkownik_id`\040(`uzytkownik_id`);
--
--\040Indeksy\040dla\040tabeli\040`historia_magazynow`
--
ALTER\040TABLE\040`historia_magazynow`
\040\040ADD\040PRIMARY\040KEY\040(`id`),
\040\040ADD\040KEY\040`magazyn_id`\040(`magazyn_id`),
\040\040ADD\040KEY\040`uzytkownik_id`\040(`uzytkownik_id`);
ALTER\040TABLE\040`historia_magazynow`\040\040\040ADD\040PRIMARY\040KEY\040(`id`),\040\040\040ADD\040KEY\040`magazyn_id`\040(`magazyn_id`),\040\040\040ADD\040KEY\040`uzytkownik_id`\040(`uzytkownik_id`);
--
--\040Indeksy\040dla\040tabeli\040`logi_uzytkownikow`
--
ALTER\040TABLE\040`logi_uzytkownikow`
\040\040ADD\040PRIMARY\040KEY\040(`id`),
\040\040ADD\040KEY\040`uzytkownik_id`\040(`uzytkownik_id`);
ALTER\040TABLE\040`logi_uzytkownikow`\040\040\040ADD\040PRIMARY\040KEY\040(`id`),\040\040\040ADD\040KEY\040`uzytkownik_id`\040(`uzytkownik_id`);
--
--\040Indeksy\040dla\040tabeli\040`magazyny`
--
ALTER\040TABLE\040`magazyny`
\040\040ADD\040PRIMARY\040KEY\040(`id`);
ALTER\040TABLE\040`magazyny`\040\040\040ADD\040PRIMARY\040KEY\040(`id`);
--
--\040Indeksy\040dla\040tabeli\040`uprawnienia_magazynowe`
--
ALTER\040TABLE\040`uprawnienia_magazynowe`
\040\040ADD\040PRIMARY\040KEY\040(`uzytkownik_id`,`magazyn_id`),
\040\040ADD\040KEY\040`magazyn_id`\040(`magazyn_id`);
ALTER\040TABLE\040`uprawnienia_magazynowe`\040\040\040ADD\040PRIMARY\040KEY\040(`uzytkownik_id`,`magazyn_id`),\040\040\040ADD\040KEY\040`magazyn_id`\040(`magazyn_id`);
--
--\040Indeksy\040dla\040tabeli\040`uzytkownicy`
--
ALTER\040TABLE\040`uzytkownicy`
\040\040ADD\040PRIMARY\040KEY\040(`id`),
\040\040ADD\040UNIQUE\040KEY\040`nazwa_uzytkownika`\040(`nazwa_uzytkownika`),
\040\040ADD\040UNIQUE\040KEY\040`email`\040(`email`);
ALTER\040TABLE\040`uzytkownicy`\040\040\040ADD\040PRIMARY\040KEY\040(`id`),\040\040\040ADD\040UNIQUE\040KEY\040`nazwa_uzytkownika`\040(`nazwa_uzytkownika`),\040\040\040ADD\040UNIQUE\040KEY\040`email`\040(`email`);
--
--\040AUTO_INCREMENT\040for\040dumped\040tables
--
--\040AUTO_INCREMENT\040for\040table\040`adresy_uzytkownikow`
--
ALTER\040TABLE\040`adresy_uzytkownikow`
\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT;
ALTER\040TABLE\040`adresy_uzytkownikow`\040\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT;
--
--\040AUTO_INCREMENT\040for\040table\040`historia_magazynow`
--
ALTER\040TABLE\040`historia_magazynow`
\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT;
ALTER\040TABLE\040`historia_magazynow`\040\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT;
--
--\040AUTO_INCREMENT\040for\040table\040`logi_uzytkownikow`
--
ALTER\040TABLE\040`logi_uzytkownikow`
\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT;
ALTER\040TABLE\040`logi_uzytkownikow`\040\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT;
--
--\040AUTO_INCREMENT\040for\040table\040`magazyny`
--
ALTER\040TABLE\040`magazyny`
\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT,\040AUTO_INCREMENT=11;
ALTER\040TABLE\040`magazyny`\040\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT,\040AUTO_INCREMENT=11;
--
--\040AUTO_INCREMENT\040for\040table\040`uzytkownicy`
--
ALTER\040TABLE\040`uzytkownicy`
\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT,\040AUTO_INCREMENT=4;
ALTER\040TABLE\040`uzytkownicy`\040\040\040MODIFY\040`id`\040int(11)\040NOT\040NULL\040AUTO_INCREMENT,\040AUTO_INCREMENT=4;
--
--\040Constraints\040for\040dumped\040tables
--
--\040Constraints\040for\040table\040`adresy_uzytkownikow`
--
ALTER\040TABLE\040`adresy_uzytkownikow`
\040\040ADD\040CONSTRAINT\040`adresy_uzytkownikow_ibfk_1`\040FOREIGN\040KEY\040(`uzytkownik_id`)\040REFERENCES\040`uzytkownicy`\040(`id`)\040ON\040DELETE\040CASCADE;
ALTER\040TABLE\040`adresy_uzytkownikow`\040\040\040ADD\040CONSTRAINT\040`adresy_uzytkownikow_ibfk_1`\040FOREIGN\040KEY\040(`uzytkownik_id`)\040REFERENCES\040`uzytkownicy`\040(`id`)\040ON\040DELETE\040CASCADE;
--
--\040Constraints\040for\040table\040`historia_magazynow`
--
ALTER\040TABLE\040`historia_magazynow`
\040\040ADD\040CONSTRAINT\040`historia_magazynow_ibfk_1`\040FOREIGN\040KEY\040(`magazyn_id`)\040REFERENCES\040`magazyny`\040(`id`)\040ON\040DELETE\040CASCADE,
\040\040ADD\040CONSTRAINT\040`historia_magazynow_ibfk_2`\040FOREIGN\040KEY\040(`uzytkownik_id`)\040REFERENCES\040`uzytkownicy`\040(`id`)\040ON\040DELETE\040SET\040NULL;
ALTER\040TABLE\040`historia_magazynow`\040\040\040ADD\040CONSTRAINT\040`historia_magazynow_ibfk_1`\040FOREIGN\040KEY\040(`magazyn_id`)\040REFERENCES\040`magazyny`\040(`id`)\040ON\040DELETE\040CASCADE,\040\040\040ADD\040CONSTRAINT\040`historia_magazynow_ibfk_2`\040FOREIGN\040KEY\040(`uzytkownik_id`)\040REFERENCES\040`uzytkownicy`\040(`id`)\040ON\040DELETE\040SET\040NULL;
--
--\040Constraints\040for\040table\040`logi_uzytkownikow`
--
ALTER\040TABLE\040`logi_uzytkownikow`
\040\040ADD\040CONSTRAINT\040`logi_uzytkownikow_ibfk_1`\040FOREIGN\040KEY\040(`uzytkownik_id`)\040REFERENCES\040`uzytkownicy`\040(`id`)\040ON\040DELETE\040SET\040NULL;
ALTER\040TABLE\040`logi_uzytkownikow`\040\040\040ADD\040CONSTRAINT\040`logi_uzytkownikow_ibfk_1`\040FOREIGN\040KEY\040(`uzytkownik_id`)\040REFERENCES\040`uzytkownicy`\040(`id`)\040ON\040DELETE\040SET\040NULL;
--
--\040Constraints\040for\040table\040`uprawnienia_magazynowe`
--
ALTER\040TABLE\040`uprawnienia_magazynowe`
\040\040ADD\040CONSTRAINT\040`uprawnienia_magazynowe_ibfk_1`\040FOREIGN\040KEY\040(`uzytkownik_id`)\040REFERENCES\040`uzytkownicy`\040(`id`)\040ON\040DELETE\040CASCADE,
\040\040ADD\040CONSTRAINT\040`uprawnienia_magazynowe_ibfk_2`\040FOREIGN\040KEY\040(`magazyn_id`)\040REFERENCES\040`magazyny`\040(`id`)\040ON\040DELETE\040CASCADE;
ALTER\040TABLE\040`uprawnienia_magazynowe`\040\040\040ADD\040CONSTRAINT\040`uprawnienia_magazynowe_ibfk_1`\040FOREIGN\040KEY\040(`uzytkownik_id`)\040REFERENCES\040`uzytkownicy`\040(`id`)\040ON\040DELETE\040CASCADE,\040\040\040ADD\040CONSTRAINT\040`uprawnienia_magazynowe_ibfk_2`\040FOREIGN\040KEY\040(`magazyn_id`)\040REFERENCES\040`magazyny`\040(`id`)\040ON\040DELETE\040CASCADE;
COMMIT;
/*!40101\040SET\040CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT\040*/;
/*!40101\040SET\040CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS\040*/;
/*!40101\040SET\040COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION\040*/;
select\040*\040from\040uzytkownicy;
delete\040from\040uzytkownicy
;
select\040*\040from\040uzytkownicy;
use\040magazyn
select\040*\040from\040uzytkownicy
;
use\040magazyn
describe\040tables;
describe\040uzytkownicy
;
alter\040table\040modify\040rola\040enum('admin','firma','prywatnie')\040not\040null;
alter\040table\040uzytkownicy\040\040modify\040rola\040enum('admin','firma','prywatnie')\040not\040null;
select\040*\040from\040uzytkownicy;
update\040uzytkownicy\040set\040rola\040admin;
update\040uzytkownicy\040set\040rola\040=\040'admin';
select\040*\040from\040uzytkownicy;
use\040magazyn
select\040*\040from\040uzytkownicy;
describe\040ucribe\040uzytkownicy;
describe\040uzytkownicy;
use\040magazyn
select\040*\040from\040uzytkownicy;
use\040magazyn
select\040*\040from\040uzytkownicy;
describe\040uzytkownicy;
select\040*\040from\040uzytkownicy;
Insert\040into\040uzytkownicy\040values(NULL,'tester1','$2y$10$yXbpRRCsj9HgCdE7EXBm6u6KKQ5SUQrqQOTVeIIR1AF6Kv/qiilVG','prywatnie',NULL,NULL,'example@example.pl','+48000000000',NULL);
select\040*\040from\040uzytkownicy;
alter\040table\040uzytkownicy\040modify\040email\040varchar(100)\040not\040null;
select\040*\040from\040uzytkownicy;
use\040magazyn
show\040tables;
select\040*\040from\040magazyny;
create\040table\040wiadomosci(
id\040int\040not\040null\040auto_increment,
imie_naz\040varchar(255)\040not\040null,
email\040varchar(255)\040not\040null,
opinia\040text\040not\040null);
create\040table\040wiadomosci(\040id\040int\040not\040null\040auto_increment,\040imie_naz\040varchar(255)\040not\040null,\040email\040varchar(255)\040not\040null,\040opinia\040text\040not\040null);
create\040table\040wiadomosci(\040id\040int\040not\040null\040auto_increment\040primary\040key,\040imie_naz\040varchar(255)\040not\040null,\040email\040varchar(255)\040not\040null,\040opinia\040text\040not\040null);
select\040*\040from\040magazyny;
show\040tables;
drop\040table\040adresy_uzytkownikow;
select\040*\040from\040wiadomosci;
delete\040from\040wiadomosci;
select\040*\040from\040wiadomosci;
use\040magazyn
select\040*\040from\040wiadomosci;
use\040magazyn
show\040tables;
describe\040logi_uzytkownikow;
use\040magazyn
select\040*\040from\040uzytkownicy;
background:\040#f6f5f7;
\040\040background-image:\040url('https://wallpapercave.com/wp/wp9764105.jpg');
background:\040\040\040\040background-image:\040url('https://wallpapercave.com/wp/wp9764105.jpg');
\040\040height:\040500px;
\040\040background-position:\040center;\040
\040\040background-repeat:\040no-repeat;\040
\040\040background-size:\040cover;
display:\040flex;
justify-content:\040center;
align-items:\040center;
flex-direction:\040column;
font-family:\040'Montserrat',\040sans-serif;
height:\040100vh;
select\040*\040from\040uzytkownicy;
Insert\040into\040uzytkownicy\040values(NULL,'szymbak','$2y$10$sYtdFaw48FIcx33qSAu5aub3dBYdSaMPf8o9XRT/QLslDAWcVGjSC','prywatnie',NULL,NULL,'example@example.pl','+48000000000',NULL);
describe\040tables;
describe\040uzytkownicy;
alter\040table\040uzytkownicy\040modify\040email\040varchar(100)\040not\040null;
describe\040uzytkownicy;
alter\040table\040uzytkownicy\040modify\040email\040varchar(100)\040not\040null\040not\040unique;
ALTER\040TABLE\040uzytkownicy\040DROP\040INDEX\040email;
describe\040uzytkownicy;
use\040magazyn
select\040*\040from\040wiadomosci;
use\040magazyn
show\040tables
;
